<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JOGO: QUIZ INTERATIVO!</title>

    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            background: linear-gradient(135deg, #ff3030, #580c0c);
            min-height: 100vh;
        }

        .card {
            border-radius: 15px;
            transition: 0.3s;
        }

        .card:hover {
            transform: scale(1.01);
        }

        .option-btn {
            font-size: 1.15rem;
            transition: 0.2s;
        }

        .option-btn:hover {
            transform: scale(1.07);
        }

        #game-container,
        #result-container {
            display: none;
        }

        .fade-in {
            animation: fade 0.4s ease-in-out;
        }

        @keyframes fade {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        h1, h2, h3, h4 {
            font-weight: 700;
        }
    </style>
</head>
<body>

<div class="container mt-5">
    <div class="row justify-content-center">
        <div class="col-lg-8">

            <h1 class="text-center mb-4">üéÆ Jogo: QUIZ INTERATIVO!</h1>

            <!-- TELA DO NOME -->
            <div id="name-container" class="card shadow fade-in">
                <div class="card-body text-center p-4">
                    <h4 class="mb-3">Digite seu nome:</h4>
                    <div class="input-group input-group-lg">
                        <input type="text" id="player-name-input" class="form-control" placeholder="Ex: Jo√£o Silva">
                        <button id="start-game-btn" class="btn btn-success">Come√ßar</button>
                    </div>
                </div>
            </div>

            <!-- TELA DO JOGO -->
            <div id="game-container" class="card shadow fade-in mt-4">
                <div class="card-body p-4">

                    <div class="d-flex justify-content-between align-items-center bg-light p-3 rounded mb-3">
                        <h5>Jogador: <span id="player-name-display" class="text-primary fw-bold"></span></h5>
                        <h5>Pontos: <span id="score-display" class="badge bg-dark fs-5">0</span></h5>
                    </div>

                    <h3 id="question-title" class="text-center"></h3>
                    <p id="question-text" class="lead text-center mb-4"></p>

                    <div id="options-container" class="d-grid gap-3"></div>

                </div>
            </div>

            <!-- TELA DO RESULTADO -->
            <div id="result-container" class="card shadow fade-in mt-4">
                <div class="card-body text-center p-5">
                    <h2>Fim de Jogo!</h2>
                    <h3 id="final-score-text" class="my-4"></h3>
                    <button id="play-again-btn" class="btn btn-primary btn-lg">Jogar Novamente</button>
                </div>
            </div>

            <!-- RANKING -->
            <div id="high-score-container" class="card shadow mt-4 fade-in">
                <div class="card-header d-flex justify-content-between">
                    <h4>üèÜ Ranking (Top 3)</h4>
                    <button id="clear-scores-btn" class="btn btn-danger btn-sm">Limpar</button>
                </div>
                <table class="table mb-0">
                    <thead>
                    <tr class="text-center">
                        <th>#</th>
                        <th>Nome</th>
                        <th>Pontua√ß√£o</th>
                    </tr>
                    </thead>
                    <tbody id="high-score-list"></tbody>
                </table>
            </div>

        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<script>
const questions = [
    { question: "Qual √© a capital do Brasil?", options: ["S√£o Paulo","Rio de Janeiro","Bras√≠lia","Recife"], answer: "Bras√≠lia" },
    { question: "Quanto √© 7 √ó 8?", options: ["56","54","64","48"], answer: "56" },
    { question: "Qual planeta √© o Planeta Vermelho?", options: ["Marte","V√™nus","J√∫piter","Saturno"], answer: "Marte" },
    { question: "Qual destes √© um mam√≠fero?", options: ["Pinguim","Baleia","Tubar√£o","Crocodilo"], answer: "Baleia" },
    { question: "Quem escreveu Dom Quixote?", options: ["Shakespeare","Cervantes","Machado de Assis","Dostoievski"], answer: "Cervantes" },
    { question: "Maior oceano do mundo?", options: ["√çndico","Pac√≠fico","Atl√¢ntico","√Årtico"], answer: "Pac√≠fico" },
    { question: "Capital da R√∫ssia?", options: ["Moscou","Pequim","Oslo","Dubai"], answer: "Moscou" },
    { question: "Autor da Mona Lisa?", options: ["Michelangelo","Da Vinci","Rafael","Van Gogh"], answer: "Da Vinci" },
    { question: "Qual √© o menor pa√≠s do mundo?", options: ["M√¥naco","Nauru","Vaticano","San Marino"], answer: "Vaticano" },
    { question: "Quem criou o Windows?", options: ["Elon Musk","Bill Gates","Alan Turing","Steve Jobs"], answer: "Bill Gates" },
    { question: "Qual desses √© um g√°s?", options: ["Oxig√™nio","Merc√∫rio","Cobre","Chumbo"], answer: "Oxig√™nio" },
    { question: "Quantos dias tem 1 ano bissexto?", options: ["364","365","366","367"], answer: "366" },
    { question: "Maior animal do mundo?", options: ["Elefante","Baleia-Azul","Tubar√£o-Branco","Girafa"], answer: "Baleia-Azul" },
    { question: "Qual √© o idioma mais falado?", options: ["Ingl√™s","Hindi","Espanhol","Mandarim"], answer: "Mandarim" },
    { question: "Em que continente fica o Egito?", options: ["√Åsia","Europa","√Åfrica","Oceania"], answer: "√Åfrica" },
    { question: "O Sol √© uma‚Ä¶", options: ["Estrela","Lua","Gal√°xia","Nebulosa"], answer: "Estrela" },
    { question: "1 km tem quantos metros?", options: ["10","100","1000","10.000"], answer: "1000" },
    { question: "Quantos planetas existem no Sistema Solar?", options: ["7","8","9","10"], answer: "8" },
    { question: "Quem descobriu o Brasil?", options: ["Pedro √Ålvares Cabral","Dom Pedro I","Crist√≥v√£o Colombo","Vasco da Gama"], answer: "Pedro √Ålvares Cabral" },
];

const QUESTIONS_PER_GAME = 5;

let currentPlayerName = "";
let score = 0;
let currentQuestionIndex = 0;
let questionsShuffled = [];
let highScores = [];

const nameContainer = document.getElementById("name-container");
const gameContainer = document.getElementById("game-container");
const resultContainer = document.getElementById("result-container");

document.getElementById("start-game-btn").addEventListener("click", startGame);
document.getElementById("play-again-btn").addEventListener("click", showNameScreen);
document.getElementById("clear-scores-btn").addEventListener("click", clearHighScores);

function startGame() {
    const name = document.getElementById("player-name-input").value.trim();
    if (!name) return alert("Digite um nome!");

    currentPlayerName = name;
    document.getElementById("player-name-display").textContent = name;

    score = 0;
    currentQuestionIndex = 0;
    document.getElementById("score-display").textContent = score;

    questionsShuffled = [...questions]
        .sort(() => Math.random() - 0.5)
        .slice(0, QUESTIONS_PER_GAME);

    nameContainer.style.display = "none";
    resultContainer.style.display = "none";
    gameContainer.style.display = "block";

    loadQuestion();
}

function loadQuestion() {
    const q = questionsShuffled[currentQuestionIndex];
    document.getElementById("question-title").textContent = `Pergunta ${currentQuestionIndex + 1} / ${questionsShuffled.length}`;
    document.getElementById("question-text").textContent = q.question;

    const optionsContainer = document.getElementById("options-container");
    optionsContainer.innerHTML = "";

    q.options.forEach(option => {
        const btn = document.createElement("button");
        btn.className = "btn btn-outline-primary option-btn btn-lg";
        btn.textContent = option;
        btn.onclick = () => selectAnswer(option, q.answer, btn);
        optionsContainer.appendChild(btn);
    });
}

function selectAnswer(selected, correct, button) {
    const all = document.querySelectorAll("#options-container button");
    all.forEach(b => b.disabled = true);

    if (selected === correct) {
        score++;
        document.getElementById("score-display").textContent = score;
        button.classList.replace("btn-outline-primary", "btn-success");
    } else {
        button.classList.replace("btn-outline-primary", "btn-danger");
        all.forEach(b => {
            if (b.textContent === correct) b.classList.replace("btn-outline-primary","btn-success");
        });
    }

    setTimeout(() => {
        currentQuestionIndex++;
        currentQuestionIndex < questionsShuffled.length ? loadQuestion() : endGame();
    }, 1200);
}

function endGame() {
    gameContainer.style.display = "none";
    resultContainer.style.display = "block";
    document.getElementById("final-score-text").textContent = `Voc√™ acertou ${score} de ${questionsShuffled.length}.`;

    saveScore(currentPlayerName, score);
}

function showNameScreen() {
    nameContainer.style.display = "block";
    gameContainer.style.display = "none";
    resultContainer.style.display = "none";
    document.getElementById("player-name-input").value = "";
}

function saveScore(name, scoreValue) {
    if (scoreValue === 0) return;

    highScores.push({ name, score: scoreValue });
    highScores.sort((a,b) => b.score - a.score);
    highScores = highScores.slice(0,3);

    localStorage.setItem("quizHighScores", JSON.stringify(highScores));
    renderScores();
}

function renderScores() {
    const tbody = document.getElementById("high-score-list");
    tbody.innerHTML = "";

    if (highScores.length === 0)
        return tbody.innerHTML = `<tr><td colspan="3" class="text-center text-muted">Sem registros.</td></tr>`;

    highScores.forEach((item, i) => {
        tbody.innerHTML += `
            <tr class="text-center">
                <td>${i === 0 ? "ü•á" : i === 1 ? "ü•à" : "ü•â"}</td>
                <td>${item.name}</td>
                <td>${item.score}</td>
            </tr>
        `;
    });
}

function clearHighScores() {
    if (!confirm("Deseja apagar todo o ranking?")) return;
    highScores = [];
    localStorage.removeItem("quizHighScores");
    renderScores();
}

document.addEventListener("DOMContentLoaded", () => {
    const saved = localStorage.getItem("quizHighScores");
    if (saved) highScores = JSON.parse(saved);
    renderScores();
});
</script>

</body>
</html>
